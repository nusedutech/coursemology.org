
<% if flash[:alert] %>
  <div class="alert alert-error topicconcepts-alert"><%= flash[:alert] %></div>
<% end %>

<div class="concept-tutorial">
	<div id="tutorial-nav" class="tutorial-nav <%= hidden ? "post-animate-tutorial-nav" : "pre-animate-tutorial-nav" %> ">
		<%= render  partial: "student_interface_progressbar" %>
		<%= render  partial: "student_interface_sidebar" %>
	</div>
	<div id="tutorial-content" class="tutorial-content <%= hidden ? "post-animate-tutorial-content" : "pre-animate-tutorial-content" %> ">
		<div class="task-header-container">
			<%= render  partial: "student_interface_titlebar" %>
		</div>
		<div class="task-content-container">
      <% if current_page? :course_topicconcepts %>
			  <%= render  partial: "topicconcept_for_guidance_map" %>
      <% elsif current_page? :review_diagnostic_exploration_course_topicconcepts %>
        <%= render  partial: "review_diagnostic_exploration" %>
      <% elsif current_page? :diagnostic_exploration_course_topicconcept %>
			  <%= render  partial: "master" %>
      <% end %>
		</div>
	</div>
<div>

<script>
	
	$(document).ready(function(){
		$(".sidebar-collapse").click(function () {
	  	var mainControls = $('#mainscreen-control');
    	if(mainControls.hasClass("span10")) {
		    $('.span2.sidebar').toggle('slow', function() {      
          $('#mainscreen-control').removeClass("span10").addClass("span12");
        });
    	}
	  	else if (mainControls.hasClass("span12")){
        $('#mainscreen-control').removeClass("span12").addClass("span10");
        $('.span2.sidebar').toggle('slow', function() {      
        });
    	}

		});

    $(".stud-int-sidebar-collapse").click(function () {
	  	var tutorialContent = $('#tutorial-content');
    	if(tutorialContent.css("margin-left") == "200px") {
		    
        $( "#tutorial-nav" ).animate({
          width: "0px"
        }, 500, function() {
          $(this).hide();
        });
        tutorialContent.animate({
          marginLeft: "0px"
        }, 500);
        //tutorialContent.css("margin-left", "0px");
    	}
	  	else if (tutorialContent.css("margin-left") == "0px"){
        $( "#tutorial-nav" ).show();
        $( "#tutorial-nav" ).animate({
          width: "200px"
        }, 500);
        tutorialContent.animate({
          marginLeft: "200px"
        }, 500);
        //tutorialContent.css("margin-left", "200px");
    	}

		});

	});

</script>
